<!--
  Generated template for the ShowmapPage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <ion-buttons end>
      <button ion-button icon-only (click)="logout()">
        <ion-icon name="log-out"></ion-icon>
      </button>
      <button ion-button icon-only (click)="getCurrentLocation()">
        <ion-icon name="locate"></ion-icon>
      </button>
      <button ion-button icon-only (click)="navtoAddAccidentPage()" end>
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Accidents</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <!--div #map id="map"></div-->
  <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom">
    <div *ngFor="let accident of accidents">
      <agm-marker (markerClick)="clickMarker(accident)" [label]="accident.details" [latitude]="accident.lat" [longitude]="accident.lng"
        [iconUrl]="getPinUrl(accident)">
      </agm-marker>
    </div>
  </agm-map>
  <ion-item>
    <ion-icon name="pin"></ion-icon>
    GPS(lat/lng)
    <ion-badge item-end>{{lat}} / {{lng}}</ion-badge>
  </ion-item>
  <ion-item>
    <ion-icon name="timer"></ion-icon>
    Time
    <ion-badge item-end>{{time| date:'mediumTime'}}</ion-badge>
  </ion-item>
</ion-content>